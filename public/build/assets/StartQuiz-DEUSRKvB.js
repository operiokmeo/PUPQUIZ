import{r as n,b as y,j as t,B as h}from"./app-DWT7hB3X.js";import{A as g}from"./AuthenticatedLayout-oP7-p8OQ.js";import"./transition-D2D_kb1X.js";import"./render-DRiD-TBL.js";function C({quiz:i}){var u;const[a,f]=n.useState(0),[o,b]=n.useState({}),[r,p]=n.useState(!1),[m,c]=n.useState(null),e=i.questions[a];n.useEffect(()=>{if(r&&e&&e.time_limit!==null){c(e.time_limit);const s=setInterval(()=>{c(l=>l===null?null:l<=1?(clearInterval(s),x(),0):l-1)},1e3);return()=>clearInterval(s)}else c(null)},[a,r,i.questions.length,e==null?void 0:e.time_limit]);const d=(s,l)=>{b(j=>({...j,[s]:l}))},x=()=>{const s=a+1;s<i.questions.length?f(s):(alert("You have completed the quiz! (No submission yet)"),y.visit(route("dashboard")))};return r?t.jsxs(g,{header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:i.title}),children:[t.jsx(h,{title:i.title}),t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Question ",a+1," / ",i.questions.length,m!==null&&t.jsxs("span",{className:"ml-4 text-xl text-red-500",children:["Time Left: ",m,"s"]})]}),(e==null?void 0:e.difficulty)&&t.jsxs("p",{className:"text-md text-gray-600 mb-4",children:["Difficulty: ",t.jsx("span",{className:`font-semibold ${e.difficulty==="easy"?"text-green-600":e.difficulty==="average"?"text-yellow-600":"text-red-600"}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)})]}),t.jsx("p",{className:"text-lg mb-4",children:e==null?void 0:e.question_text}),(e==null?void 0:e.image_path)&&t.jsx("img",{src:`/storage/${e.image_path}`,alt:"Question Image",className:"mb-4 max-h-64 object-contain mx-auto"}),(e==null?void 0:e.type)==="multiple-choice"&&t.jsx("div",{className:"space-y-3",children:(u=e.options)==null?void 0:u.map(s=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",id:`option-${s.id}`,name:`question-${e.id}`,value:s.id,checked:o[e.id]===s.id,onChange:()=>d(e.id,s.id),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),t.jsx("label",{htmlFor:`option-${s.id}`,className:"ml-3 block text-base font-medium text-gray-700",children:s.option_text})]},s.id))}),(e==null?void 0:e.type)==="true-false"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",id:"true-option",name:`question-${e.id}`,value:"true",checked:o[e.id]==="true",onChange:()=>d(e.id,"true"),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),t.jsx("label",{htmlFor:"true-option",className:"ml-3 block text-base font-medium text-gray-700",children:"True"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",id:"false-option",name:`question-${e.id}`,value:"false",checked:o[e.id]==="false",onChange:()=>d(e.id,"false"),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),t.jsx("label",{htmlFor:"false-option",className:"ml-3 block text-base font-medium text-gray-700",children:"False"})]})]}),(e==null?void 0:e.type)==="short-answer"&&t.jsx("div",{className:"mt-4",children:t.jsx("input",{type:"text",placeholder:"Type your answer here...",value:o[e.id]||"",onChange:s=>d(e.id,s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsx("button",{onClick:x,className:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:a===i.questions.length-1?"Finish Quiz (No Submission)":"Next Question"})})]})})})]}):t.jsxs(g,{header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:i.title}),children:[t.jsx(h,{title:i.title}),t.jsx("div",{className:"py-12",children:t.jsxs("div",{className:"max-w-xl mx-auto sm:px-6 lg:px-8 bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4",children:i.title}),t.jsx("p",{className:"text-gray-700 mb-6",children:"You're about to start this quiz. Good luck!"}),t.jsx("button",{onClick:()=>p(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 border border-transparent rounded-md font-semibold text-lg text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Start Quiz"})]})})]})}export{C as default};
