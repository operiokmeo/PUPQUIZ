import{r,j as e,b as ce,a as ee,P as $e,B as He,W as Ge}from"./app-DfPUS0g-.js";import{C as Ve}from"./Checkbox-CalqPGVo.js";import{T as be,I as qe}from"./TextInput-DDsVM6GY.js";import{I as ve}from"./InputLabel-CjQFinkf.js";import{P as Ue}from"./PrimaryButton-Bk3REI6c.js";import{B as Ye}from"./button-DbBkCaNi.js";import{F as Xe}from"./Footer-Qj012yXt.js";import{c as te}from"./utils-CP3_-lCt.js";import{c as ne}from"./createLucideIcon-BW7jgRi7.js";import{X as Ze}from"./x-B5Ef5myS.js";import{C as Je}from"./circle-check-big-B7aVYKF3.js";import{G as Ke}from"./GuestLayout-C6pMFboj.js";import{S as Q}from"./sweetalert2.esm.all-ePrzfkxH.js";/* empty css                        */import{E as Qe}from"./eye-off-D2s7vG9_.js";import{E as et}from"./eye-CDZT0WGR.js";import"./index-33bLDdrw.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],we=ne("arrow-right",tt);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nt=ne("house",rt);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M5 12h14",key:"1ays0h"}]],ot=ne("minus",at);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ye=ne("smartphone",st);var lt=Object.defineProperty,it=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,je=(t,a,n)=>a in t?lt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,dt=(t,a)=>{for(var n in a||(a={}))Se.call(a,n)&&je(t,n,a[n]);if(re)for(var n of re(a))Pe.call(a,n)&&je(t,n,a[n]);return t},ut=(t,a)=>it(t,ct(a)),mt=(t,a)=>{var n={};for(var c in t)Se.call(t,c)&&a.indexOf(c)<0&&(n[c]=t[c]);if(t!=null&&re)for(var c of re(t))a.indexOf(c)<0&&Pe.call(t,c)&&(n[c]=t[c]);return n};function pt(t){let a=setTimeout(t,0),n=setTimeout(t,10),c=setTimeout(t,50);return[a,n,c]}function ft(t){let a=r.useRef();return r.useEffect(()=>{a.current=t}),a.current}var gt=18,Ee=40,ht=`${Ee}px`,xt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function bt({containerRef:t,inputRef:a,pushPasswordManagerStrategy:n,isFocused:c}){let[w,u]=r.useState(!1),[C,v]=r.useState(!1),[x,M]=r.useState(!1),D=r.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&w&&C,[w,C,n]),I=r.useCallback(()=>{let y=t.current,b=a.current;if(!y||!b||x||n==="none")return;let j=y,S=j.getBoundingClientRect().left+j.offsetWidth,f=j.getBoundingClientRect().top+j.offsetHeight/2,d=S-gt,P=f;document.querySelectorAll(xt).length===0&&document.elementFromPoint(d,P)===y||(u(!0),M(!0))},[t,a,x,n]);return r.useEffect(()=>{let y=t.current;if(!y||n==="none")return;function b(){let S=window.innerWidth-y.getBoundingClientRect().right;v(S>=Ee)}b();let j=setInterval(b,1e3);return()=>{clearInterval(j)}},[t,n]),r.useEffect(()=>{let y=c||document.activeElement===a.current;if(n==="none"||!y)return;let b=setTimeout(I,0),j=setTimeout(I,2e3),S=setTimeout(I,5e3),f=setTimeout(()=>{M(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(j),clearTimeout(S),clearTimeout(f)}},[a,c,n,I]),{hasPWMBadge:w,willPushPWMBadge:D,PWM_BADGE_SPACE_WIDTH:ht}}var ke=r.createContext({}),Te=r.forwardRef((t,a)=>{var n=t,{value:c,onChange:w,maxLength:u,textAlign:C="left",pattern:v,placeholder:x,inputMode:M="numeric",onComplete:D,pushPasswordManagerStrategy:I="increase-width",pasteTransformer:y,containerClassName:b,noScriptCSSFallback:j=vt,render:S,children:f}=n,d=mt(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),P,F,s,i,p;let[De,Re]=r.useState(typeof d.defaultValue=="string"?d.defaultValue:""),g=c??De,A=ft(g),q=r.useCallback(o=>{w==null||w(o),Re(o)},[w]),R=r.useMemo(()=>v?typeof v=="string"?new RegExp(v):v:null,[v]),h=r.useRef(null),ae=r.useRef(null),oe=r.useRef({value:g,onChange:q,isIOS:typeof window<"u"&&((F=(P=window==null?void 0:window.CSS)==null?void 0:P.supports)==null?void 0:F.call(P,"-webkit-touch-callout","none"))}),J=r.useRef({prev:[(s=h.current)==null?void 0:s.selectionStart,(i=h.current)==null?void 0:i.selectionEnd,(p=h.current)==null?void 0:p.selectionDirection]});r.useImperativeHandle(a,()=>h.current,[]),r.useEffect(()=>{let o=h.current,l=ae.current;if(!o||!l)return;oe.current.value!==o.value&&oe.current.onChange(o.value),J.current.prev=[o.selectionStart,o.selectionEnd,o.selectionDirection];function N(){if(document.activeElement!==o){Y(null),X(null);return}let m=o.selectionStart,E=o.selectionEnd,K=o.selectionDirection,O=o.maxLength,L=o.value,B=J.current.prev,_=-1,z=-1,$;if(L.length!==0&&m!==null&&E!==null){let Ae=m===E,We=m===L.length&&L.length<O;if(Ae&&!We){let H=m;if(H===0)_=0,z=1,$="forward";else if(H===O)_=H-1,z=H,$="backward";else if(O>1&&L.length>1){let ie=0;if(B[0]!==null&&B[1]!==null){$=H<B[1]?"backward":"forward";let Le=B[0]===B[1]&&B[0]<O;$==="backward"&&!Le&&(ie=-1)}_=ie+H,z=ie+H+1}}_!==-1&&z!==-1&&_!==z&&h.current.setSelectionRange(_,z,$)}let he=_!==-1?_:m,xe=z!==-1?z:E,ze=$??K;Y(he),X(xe),J.current.prev=[he,xe,ze]}if(document.addEventListener("selectionchange",N,{capture:!0}),N(),document.activeElement===o&&se(!0),!document.getElementById("input-otp-style")){let m=document.createElement("style");if(m.id="input-otp-style",document.head.appendChild(m),m.sheet){let E="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Z(m.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Z(m.sheet,`[data-input-otp]:autofill { ${E} }`),Z(m.sheet,`[data-input-otp]:-webkit-autofill { ${E} }`),Z(m.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Z(m.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let k=()=>{l&&l.style.setProperty("--root-height",`${o.clientHeight}px`)};k();let T=new ResizeObserver(k);return T.observe(o),()=>{document.removeEventListener("selectionchange",N,{capture:!0}),T.disconnect()}},[]);let[de,ue]=r.useState(!1),[U,se]=r.useState(!1),[W,Y]=r.useState(null),[G,X]=r.useState(null);r.useEffect(()=>{pt(()=>{var o,l,N,k;(o=h.current)==null||o.dispatchEvent(new Event("input"));let T=(l=h.current)==null?void 0:l.selectionStart,m=(N=h.current)==null?void 0:N.selectionEnd,E=(k=h.current)==null?void 0:k.selectionDirection;T!==null&&m!==null&&(Y(T),X(m),J.current.prev=[T,m,E])})},[g,U]),r.useEffect(()=>{A!==void 0&&g!==A&&A.length<u&&g.length===u&&(D==null||D(g))},[u,D,A,g]);let V=bt({containerRef:ae,inputRef:h,pushPasswordManagerStrategy:I,isFocused:U}),me=r.useCallback(o=>{let l=o.currentTarget.value.slice(0,u);if(l.length>0&&R&&!R.test(l)){o.preventDefault();return}typeof A=="string"&&l.length<A.length&&document.dispatchEvent(new Event("selectionchange")),q(l)},[u,q,A,R]),pe=r.useCallback(()=>{var o;if(h.current){let l=Math.min(h.current.value.length,u-1),N=h.current.value.length;(o=h.current)==null||o.setSelectionRange(l,N),Y(l),X(N)}se(!0)},[u]),fe=r.useCallback(o=>{var l,N;let k=h.current;if(!y&&(!oe.current.isIOS||!o.clipboardData||!k))return;let T=o.clipboardData.getData("text/plain"),m=y?y(T):T;o.preventDefault();let E=(l=h.current)==null?void 0:l.selectionStart,K=(N=h.current)==null?void 0:N.selectionEnd,O=(E!==K?g.slice(0,E)+m+g.slice(K):g.slice(0,E)+m+g.slice(E)).slice(0,u);if(O.length>0&&R&&!R.test(O))return;k.value=O,q(O);let L=Math.min(O.length,u-1),B=O.length;k.setSelectionRange(L,B),Y(L),X(B)},[u,q,R,g]),Fe=r.useMemo(()=>({position:"relative",cursor:d.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[d.disabled]),ge=r.useMemo(()=>({position:"absolute",inset:0,width:V.willPushPWMBadge?`calc(100% + ${V.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:V.willPushPWMBadge?`inset(0 ${V.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:C,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[V.PWM_BADGE_SPACE_WIDTH,V.willPushPWMBadge,C]),Be=r.useMemo(()=>r.createElement("input",ut(dt({autoComplete:d.autoComplete||"one-time-code"},d),{"data-input-otp":!0,"data-input-otp-placeholder-shown":g.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":G,inputMode:M,pattern:R==null?void 0:R.source,"aria-placeholder":x,style:ge,maxLength:u,value:g,ref:h,onPaste:o=>{var l;fe(o),(l=d.onPaste)==null||l.call(d,o)},onChange:me,onMouseOver:o=>{var l;ue(!0),(l=d.onMouseOver)==null||l.call(d,o)},onMouseLeave:o=>{var l;ue(!1),(l=d.onMouseLeave)==null||l.call(d,o)},onFocus:o=>{var l;pe(),(l=d.onFocus)==null||l.call(d,o)},onBlur:o=>{var l;se(!1),(l=d.onBlur)==null||l.call(d,o)}})),[me,pe,fe,M,ge,u,G,W,d,R==null?void 0:R.source,g]),le=r.useMemo(()=>({slots:Array.from({length:u}).map((o,l)=>{var N;let k=U&&W!==null&&G!==null&&(W===G&&l===W||l>=W&&l<G),T=g[l]!==void 0?g[l]:null,m=g[0]!==void 0?null:(N=x==null?void 0:x[l])!=null?N:null;return{char:T,placeholderChar:m,isActive:k,hasFakeCaret:k&&T===null}}),isFocused:U,isHovering:!d.disabled&&de}),[U,de,u,G,W,d.disabled,g]),_e=r.useMemo(()=>S?S(le):r.createElement(ke.Provider,{value:le},f),[f,le,S]);return r.createElement(r.Fragment,null,j!==null&&r.createElement("noscript",null,r.createElement("style",null,j)),r.createElement("div",{ref:ae,"data-input-otp-container":!0,style:Fe,className:b},_e,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Be)))});Te.displayName="Input";function Z(t,a){try{t.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var vt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ie=r.forwardRef(({className:t,containerClassName:a,...n},c)=>e.jsx(Te,{ref:c,containerClassName:te("flex items-center gap-2 has-[:disabled]:opacity-50",a),className:te("disabled:cursor-not-allowed",t),...n}));Ie.displayName="InputOTP";const Oe=r.forwardRef(({className:t,...a},n)=>e.jsx("div",{ref:n,className:te("flex items-center",t),...a}));Oe.displayName="InputOTPGroup";const Me=r.forwardRef(({index:t,className:a,...n},c)=>{const w=r.useContext(ke),{char:u,hasFakeCaret:C,isActive:v}=w.slots[t];return e.jsxs("div",{ref:c,className:te("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",v&&"z-10 ring-1 ring-ring",a),...n,children:[u,C&&e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Me.displayName="InputOTPSlot";const wt=r.forwardRef(({...t},a)=>e.jsx("div",{ref:a,role:"separator",...t,children:e.jsx(ot,{})}));wt.displayName="InputOTPSeparator";const yt=({open:t,onOpenChange:a,children:n})=>t?e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-white backdrop-blur-md",onClick:()=>a(!1)}),e.jsx("div",{className:"relative z-[10000] animate-in fade-in-0 zoom-in-95 duration-300",children:n})]}):null,jt=({children:t,className:a=""})=>e.jsx("div",{className:`
    bg-white/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl 
    max-w-md w-full p-8 relative overflow-hidden
    before:absolute before:inset-0 before:bg-gradient-to-br before:from-orange-50/50 before:to-purple-50/30 before:rounded-2xl
    ${a}
  `,children:e.jsx("div",{className:"relative z-10",children:t})}),Nt=({children:t})=>e.jsx("div",{className:"flex flex-col items-center text-center mb-8",children:t}),Ne=({children:t})=>e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:t}),Ct=({children:t})=>e.jsx("p",{className:"text-gray-600 leading-relaxed max-w-sm mx-auto",children:t}),Ce=({children:t,onClick:a,variant:n="default",size:c="default",className:w="",disabled:u=!1})=>{const C=`
    inline-flex items-center justify-center rounded-xl text-sm font-semibold 
    transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-orange-500/20 
    disabled:opacity-50 disabled:pointer-events-none transform active:scale-95
  `,v={default:`
      bg-gradient-to-r from-orange-500 to-orange-600 text-white 
      hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25
      border border-orange-500/20
    `,outline:"border-2 border-gray-200 bg-white/80 hover:bg-gray-50 text-gray-900 hover:border-gray-300",ghost:"hover:bg-gray-100/80 text-gray-900"},x={default:"h-12 px-6 py-3",sm:"h-10 px-4",icon:"h-12 w-12"};return e.jsx("button",{className:`${C} ${v[n]} ${x[c]} ${w}`,onClick:a,disabled:u,children:t})};function St(t){const{isOpen:a,setIsOpen:n}=t,[c,w]=r.useState(""),[u,C]=r.useState(!1),[v,x]=r.useState(""),[M,D]=r.useState(0),[I,y]=r.useState(!1),b=async()=>{var f,d,P,F;if(c.length!==6){x("Please enter all 6 digits");return}C(!0),x("");try{const s=new FormData;s.append("otp",c),s.append("email",localStorage.getItem("email"));const i=await ee.post("/verifyOtp",s);if(console.log(i.data),i.data.success){localStorage.removeItem("email"),y(!0);const p=document.createElement("div");p.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",p.textContent=i.data.success,document.body.appendChild(p),setTimeout(()=>p.remove(),3e3),setTimeout(()=>{ce.visit("/dashboard")},2e3)}}catch(s){let i="Verification failed. Please try again.";(d=(f=s.response)==null?void 0:f.data)!=null&&d.error?i=s.response.data.error:(F=(P=s.response)==null?void 0:P.data)!=null&&F.message?i=s.response.data.message:s.message?i=s.message:s.response||(i="Unable to connect to server. Please check your connection."),x(i);const p=document.createElement("div");p.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",p.textContent=i,document.body.appendChild(p),setTimeout(()=>p.remove(),3e3)}finally{C(!1)}},j=async()=>{var f,d,P,F;D(30),x(""),w("");try{const s=new FormData;s.append("email",localStorage.getItem("email"));const i=await ee.post("/resendOTP",s);if(i.data.success){const p=document.createElement("div");p.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",p.textContent=i.data.success,document.body.appendChild(p),setTimeout(()=>p.remove(),3e3)}}catch(s){let i="Failed to resend OTP. Please try again.";(d=(f=s.response)==null?void 0:f.data)!=null&&d.error?i=s.response.data.error:(F=(P=s.response)==null?void 0:P.data)!=null&&F.message?i=s.response.data.message:s.message?i=s.message:s.response||(i="Unable to connect to server. Please check your connection."),x(i);const p=document.createElement("div");p.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",p.textContent=i,document.body.appendChild(p),setTimeout(()=>p.remove(),3e3)}finally{const s=setInterval(()=>{D(i=>i<=1?(clearInterval(s),0):i-1)},1e3)}},S=c.length===6;return e.jsx("div",{children:e.jsx(yt,{open:a,onOpenChange:()=>{},children:e.jsx(jt,{children:I?e.jsxs("div",{className:"text-center py-8 space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto animate-in zoom-in-50 duration-500",children:e.jsx(Je,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx(Ne,{children:e.jsx("p",{className:"text-green-600 mb-2",children:"Verification Successful!"})}),e.jsx("p",{className:"text-gray-600",children:"Your email has been verified. Redirecting to dashboard..."})]}),e.jsxs(Ce,{className:"w-full h-12 text-base font-semibold",onClick:()=>{n(!1),ce.visit("/dashboard")},children:[e.jsx("span",{children:"Go to Dashboard"}),e.jsx(we,{className:"w-5 h-5 ml-2"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{},className:"absolute right-4 top-4 rounded-full p-2 opacity-70 hover:opacity-100 hover:bg-gray-100/80 transition-all focus:outline-none focus:ring-2 focus:ring-orange-500/20",children:e.jsx(Ze,{className:"h-4 w-4"})}),e.jsxs(Nt,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-500/25 mb-4",children:e.jsx(ye,{className:"w-8 h-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx(Ne,{children:"Verify Your Email"}),e.jsxs(Ct,{children:["Enter the 6-digit verification code sent to your email address ending in ",e.jsx("span",{className:"font-semibold text-gray-900",children:localStorage.getItem("email")})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Ie,{maxLength:6,value:c,onChange:f=>w(f),children:e.jsx(Oe,{className:"gap-3",children:[0,1,2,3,4,5].map(f=>e.jsx(Me,{index:f,className:`
                              w-12 h-14 text-lg font-bold rounded-xl border-2 
                              border-gray-200 bg-white/80 backdrop-blur-sm
                              focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 
                              data-[filled=true]:border-orange-400 data-[filled=true]:bg-orange-50/50
                              transition-all duration-200 shadow-sm
                              hover:border-orange-300 hover:shadow-md
                            `},f))})})}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 animate-in slide-in-from-top-1",children:e.jsx("p",{className:"text-sm text-red-700 text-center font-medium",children:v})})]}),e.jsx(Ce,{onClick:b,disabled:!S||u,className:"w-full h-14 text-base font-semibold",children:u?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{children:"Verify & Continue"}),e.jsx(we,{className:"w-5 h-5"})]})}),e.jsxs("div",{className:"text-center border-t border-gray-200/60 pt-6",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Didn't receive the code?"}),M>0?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-600 font-medium",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),e.jsxs("span",{children:["Resend in ",M,"s"]})]}):e.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 text-orange-600 hover:text-orange-700 font-semibold text-sm bg-orange-50 hover:bg-orange-100 px-4 py-2 rounded-lg transition-colors",children:[e.jsx(ye,{className:"w-4 h-4"}),"Send New Code"]})]})]})]})})})})}function Gt({status:t,canResetPassword:a}){const{data:n,setData:c,post:w,processing:u,errors:C,reset:v}=$e({email:"",password:"",remember:!1}),[x,M]=r.useState(!1),[D,I]=r.useState(!1),y=async b=>{var j,S,f,d;b.preventDefault();try{if((await ee.post(route("login-info"),{email:n.email})).data.exist)w(route("login"),{onFinish:()=>v("password"),onError:s=>{let i="Incorrect email or password";s&&typeof s=="object"&&s.msg&&(i=s.msg),Q.fire({toast:!0,position:"top-end",icon:"error",title:i,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,background:"#fff",color:"#e3342f",iconColor:"#e3342f"})}});else try{const s=new FormData;s.append("email",n.email),s.append("password",n.password);const i=await ee.post(route("otp-login"),s);(i.data.success||i.data.msg)&&(I(!0),localStorage.setItem("email",n.email),v("password"),Q.fire({toast:!0,position:"top-end",icon:"success",title:"OTP sent to your email",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,background:"#fff",color:"#399918",iconColor:"#399918"}))}catch(s){let i="Failed to send OTP";(S=(j=s.response)==null?void 0:j.data)!=null&&S.msg?i=s.response.data.msg:(d=(f=s.response)==null?void 0:f.data)!=null&&d.error&&(i=s.response.data.error),Q.fire({toast:!0,position:"top-end",icon:"error",title:i,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,background:"#fff",color:"#e3342f",iconColor:"#e3342f"})}}catch{Q.fire({toast:!0,position:"top-end",icon:"error",title:"Server error while checking account",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,background:"#fff",color:"#e3342f",iconColor:"#e3342f"})}};return e.jsxs(Ke,{children:[e.jsx(He,{title:"Log in"}),e.jsx(St,{isOpen:D,setIsOpen:I}),t&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:t}),e.jsxs("form",{onSubmit:y,style:{zIndex:10},className:"z-50 bg-transparent p-8 rounded-3xl shadow-lg max-w-md w-full mx-auto",children:[e.jsx("div",{className:"w-full h-2 bg-[#FF2C19] rounded-full mb-8"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Login"}),e.jsx("p",{className:"text-gray-500 text-sm mb-8 text-center",children:"Please enter your details."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"email",value:"Email",className:"text-red-600 text-base font-bold"}),e.jsx(be,{id:"email",type:"email",name:"email",value:n.email,className:"mt-1 block w-full border-0 border-b border-red-600 focus:border-red-500 focus:ring-0 bg-transparent px-0 text-gray-700 rounded-none hover:bg-slate-200 transition-colors",autoComplete:"username",isFocused:!0,onChange:b=>c("email",b.target.value),placeholder:"name@example.com"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ve,{htmlFor:"password",value:"Password",className:"text-red-600 text-base font-bold"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{id:"password",type:x?"text":"password",name:"password",value:n.password,className:"mt-1 block w-full border-0 border-b border-red-600 focus:border-red-500 focus:ring-0 bg-transparent px-0 text-gray-700 rounded-none hover:bg-slate-200 transition-colors pr-10",autoComplete:"current-password",onChange:b=>c("password",b.target.value),placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>M(!x),className:"absolute right-0 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800 focus:outline-none",children:x?e.jsx(Qe,{size:20}):e.jsx(et,{size:20})})]}),e.jsx(qe,{message:C.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx(Ve,{name:"remember",checked:n.remember,onChange:b=>c("remember",b.target.checked),className:"border-gray-300 text-[#FF2C19] focus:ring-[#FF2C19]"}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember me"})]}),a&&e.jsx(Ge,{href:route("password.request"),className:"text-sm text-[#FF2C19] hover:text-[#e52913] transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"flex justify-center flex-col items-center gap-y-5",children:[e.jsx(Ue,{className:" w-4/5 bg-red-600 text-white px-8 py-4 rounded-[50px] hover:bg-red-600 transition-colors mt-8 text-xl font-semibold text-center flex justify-center items-center",style:{boxShadow:"0px 8px 15px rgba(249, 115, 22, 0.35)",filter:"drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.15))",zIndex:10},disabled:u,children:"Login"}),e.jsxs(Ye,{className:" w-4/5 px-8 py-4 flex items-center justify-center gap-x-3",variant:"link",type:"button",onClick:()=>ce.get("/"),children:[e.jsx(nt,{}),"Home"]})]})]})]}),e.jsx("div",{style:{zIndex:100},children:e.jsx(Xe,{})})]})}export{Gt as default};
